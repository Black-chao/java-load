<!-- toc -->

# 任务C：编写存储过程查询出九月份有登陆过本系统会员信息要求查询出具体的会员名称和登陆时间

## 实现代码

```java
package Experiment.Demo2;

import Advanced.JDBC.Util.DBUtils;

import java.sql.ResultSet;
import java.sql.SQLException;

/*
    要求:编写存储过程查询出九月份有登陆过本系统会员信息要求查询出具体的会员名称和登陆时间
 */
public class Demo3C {
    public static void main(String[] args) {
        DBUtils db=new DBUtils();
        try {
            db.getConnection();
            String sql="select * from ms_memer where timestamp(Lastlogin) between ? and ?";
            ResultSet rs=db.executeQuery(sql,new String[]{"2020-08-31 23:59:59","2020-09-30 23:59:59"});
            System.out.println("---------9月份登录过本系统的会员信息-----------");
            System.out.println("  "+"会员名称"+"     "+"注册时间"+"           "+"最后一次登录时间");
            while (rs.next()){
                System.out.println(rs.getRow()+":"+"\t"
                        +rs.getString(2)+"\t"
                        +rs.getString(7)+"\t"
                        +rs.getString(8));
            }
            System.out.println("--------------------------------");
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        }finally {
            db.closeAll();
        }
    }
}
```

## 查询结果

```java
Experiment.Demo2.Demo3C
---------9月份登录过本系统的会员信息-----------
  会员名称     注册时间           最后一次登录时间
1:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
2:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
3:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
4:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
5:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
6:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
7:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
8:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
9:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
10:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
11:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
12:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
13:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
14:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
15:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
16:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
17:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
18:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
19:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
20:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
21:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
22:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
23:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
24:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
25:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
26:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
27:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
28:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
29:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
30:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
31:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
32:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
33:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
34:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
35:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
36:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
37:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
38:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
39:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
40:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
41:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
42:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
43:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
44:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
45:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
46:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
47:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
48:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
49:	hs	2020-09-12 16:29:58	2020-09-12 16:29:58
--------------------------------

Process finished with exit code 0

```

